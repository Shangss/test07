<html doctype='html'>
    <head>
        <title>Leaflet moving marker demo</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="node_modules/leaflet/dist/leaflet.css">
        <script src="node_modules/leaflet/dist/leaflet.js"></script>
        <script src="dist/index.js"></script>
        <style>
            html, body, #map {
                margin: 0;
                height: 100%;
            }
        </style>
    </head>
    <body>
        <div id="map"></div>
        <script>
            var osmUrl='http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
            var osmAttrib='Map data Â© <a href="http://openstreetmap.org">OpenStreetMap</a> contributors';
            var osm = new L.TileLayer(osmUrl, {minZoom: 8, maxZoom: 20, attribution: osmAttrib});
            var map = L.map('map', {
                center: [37.8284746, -122.4759778],
                zoom: 14
            });
            map.addLayer(osm);

            var marker = L.movingMarker([37.809185, -122.477351], {
                destinations: [
                    {
                        latLng: [37.825766, -122.479218],
                        duration: 2000,
                    },
                    {
                        latLng: [37.831420, -122.479936],
                        duration: 3000
                    },
                    {
                        latLng: [37.832200, -122.480644],
                        duration: 1000
                    }
                ],
                endLatLng: [37.825766, -122.479218],
                duration: 1000,
                onMoveCompleted: function() {
                    console.log('done');
                },
            });

            marker.addTo(map);
        </script>
    </body>
</html>